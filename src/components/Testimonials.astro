---
import { Image } from 'astro:assets';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { ui } from '../i18n/ui';
import brianHodgkinsImg from "../assets/brian-hodgkins.png"
import jillFeldmanImg from "../assets/jill-feldman.png"
import ianStraayerImg from "../assets/ian-straayer.png"
import reneeKiefferImg from "../assets/renee-kieffer.png"

const lang = getLangFromUrl(Astro.url);
const t = ui[lang];

const testimonials = [
  {
    quote: t.testimonials.testimonials[0].quote,
    author: t.testimonials.testimonials[0].author,
    title: t.testimonials.testimonials[0].title,
    company: t.testimonials.testimonials[0].company,
    image: brianHodgkinsImg
  },
  {
    quote: t.testimonials.testimonials[1].quote,
    author: t.testimonials.testimonials[1].author,
    title: t.testimonials.testimonials[1].title,
    company: t.testimonials.testimonials[1].company,
    image: jillFeldmanImg
  },
  {
    quote: t.testimonials.testimonials[2].quote,
    author: t.testimonials.testimonials[2].author,
    title: t.testimonials.testimonials[2].title,
    company: t.testimonials.testimonials[2].company,
    image: ianStraayerImg
  },
  {
    quote: t.testimonials.testimonials[3].quote,
    author: t.testimonials.testimonials[3].author,
    title: t.testimonials.testimonials[3].title,
    company: t.testimonials.testimonials[3].company,
    image: reneeKiefferImg
  },
];
---

<section class="bg-gray-100 py-20">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-serif font-bold text-center mb-12">{t.testimonials.title}</h2>
    <div class="flex overflow-x-auto snap-x snap-mandatory">
      {testimonials.map((testimonial) => (
        <div class="flex-shrink-0 w-full sm:w-1/2 md:w-1/3 snap-start">
          <div class="bg-white rounded-lg shadow-lg p-8 mx-4">
            <p class="text-gray-600 italic mb-4">{testimonial.quote}</p>
            <div class="flex items-center">
              <Image 
                src={testimonial.image} 
                alt={testimonial.author} 
                class="w-12 h-12 rounded-full mr-4"
                width={48}
                height={48}
              />
              <div>
                <p class="font-semibold">{testimonial.author}</p>
                <p class="text-sm text-gray-500">{testimonial.title}</p>
                <p class="text-sm text-gray-500">{testimonial.company}</p>
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
